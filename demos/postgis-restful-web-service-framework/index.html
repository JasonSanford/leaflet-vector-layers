<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Leaflet Vector Layers - PostGIS RESTful Web Service Framework Demo</title>
        <meta name="description" content="Display vector data from ArcGIS Server, GeoIQ, Geocommons, Arc2Earth, CartoDB and others in a Leaflet map">
        <meta name="author" content="Jason Sanford">

        <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
        <!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <!-- Le styles -->
        <link href="../../docs-demo/css/bootstrap.css" rel="stylesheet">
        <link href="../../docs-demo/css/prettify.css" rel="stylesheet">
        <link href="../../docs-demo/css/docs.css" rel="stylesheet">
        <link href="../../docs-demo/css/demo.css" rel="stylesheet">
        <link href="../../lib/leaflet/dist/leaflet.css" rel="stylesheet">

    </head>

    <body>
        <a href="https://github.com/JasonSanford/leaflet-vector-layers"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 10001;" src="../../docs-demo/img/github-fork.png" alt="Fork me on GitHub"></a>
        <div class="topbar" data-dropdown="dropdown">
            <div class="topbar-inner">
                <div class="container-fluid">
                    <a class="brand" href="../../">Leaflet Vector Layers</a>
                    <ul class="nav">
                        <li><a href="../../">Home</a></li>
                        <li><a href="../../documentation">Documentation</a></li>
                        <li class="dropdown active">
                            <a href="demos" class="dropdown-toggle">Demos</a>
                            <ul class="dropdown-menu">
                                <li><a href="../arcgis-server">ArcGIS Server</a></li>
                                <li><a href="../arc2earth">Arc2Earth</a></li>
                                <li><a href="../cartodb">CartoDB</a></li>
                                <li><a href="../geoiq">GeoIQ</a></li>
                                <li class="active"><a href="../postgis-restful-web-service-framework">PostGIS RESTful Web Service Framework</a></li>
                            </ul>
                        </li>
                        <li><a href="../../tips-tricks">Tips + Tricks</a></li>
                        <li><a href="../../download">Download</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="content">
                <h1>PostGIS RESTful Web Service Framework</h1>
                
                <h2>Mountain Backdrop Preservation Areas</h2>
                <p class="docs">This simple demo shows mountain backdrop preservation areas. We're using the <code>showAll</code> parameter since there are only a handful of features and there's no sense re-fetching features with each map pan or zoom.</p>
                <p class="docs">Also, note the use of the <code>clickable: false</code> option in the vector symbology definitions. This ensures that the cursor doesn't change to something that would make the user think they could click these polygons since they're just here for display and don't contain any attribute to populate an Popup.</p>
                <div class="row demo">
                    <div class="span6 height-controlled">
                        <pre class="prettyprint"></pre>
                    </div>
                    <div class="span10 height-controlled">
                        <div id="map-container-1" class="map"></div>
                        <div class="layer-buttons">
                            <div class="row layer-button-row"><a href="javascript:prwsf_preservation.setMap(map1);" class="btn success">Layer On</a> <a href="javascript:prwsf_preservation.setMap(null);" class="btn danger">Layer Off</a></div>
                        </div>
                    </div>
                </div>
                
                <hr>
                
                <footer> 	
                    <p>&copy; Jason Sanford - geojason.info 2012</p>
                </footer>
            </div>
        </div>
        <script src="../../lib/leaflet/dist/leaflet.js"type="text/javascript"></script>
        <script src="../../docs-demo/js/prettify.js" type="text/javascript"></script>
        <script src="../../docs-demo/js/jquery-1.5.2.min.js" type="text/javascript"></script>
        <script src="../../docs-demo/js/docs-demos.js" type="text/javascript"></script>
        <script src="../../docs-demo/js/bootstrap-dropdown.js" type="text/javascript"></script>
        <script src="../../dist/lvector.js" type="text/javascript"></script>
        <script type="text/javascript">
            var map1, map2, map3, map4;
            var prwsf_preservation, prwsf_hydrants, prwsf_libraries, prwsf_bus;
            $(document).ready(function() {
            
                map1 = new L.Map("map-container-1", {
                    center: new L.LatLng(39.73216911989915, -105.07053553237914),
                    zoom: 10,
                    minZoom: 4,
                    layers: [
                        new L.TileLayer("http://tile.stamen.com/terrain/{z}/{x}/{y}.jpg", {
                            maxZoom: 18,
                            attribution: 'Map data (c) <a href="http://www.openstreetmap.org/" target="_blank">OpenStreetMap</a> contributors, CC-BY-SA.'
                        })
                    ]
                });
                
                var customMarker = L.Icon.extend({
                    iconUrl: "../../docs-demo/img/markers/ski-lift.png",
                    shadowUrl: null,
                    iconSize: new L.Point(32, 37),
                    iconAnchor: new L.Point(16, 37),
                    popupAnchor: new L.Point(0, -35)
                });
                
                prwsf_preservation = new lvector.PRWSF({
                    url: "http://gis.drcog.org/REST",
                    geotable: "mountain_backdrop_preservation_area",
                    fields: "gid",
                    uniqueField: "gid",
                    srid: 2232,
                    showAll: true,
                    symbology: {
                        type: "single",
                        vectorOptions: {
                            fillColor: "#2f4a00",
                            fillOpacity: 0.4,
                            weight: 1.8,
                            color: "#2f4a00",
                            opacity: 1,
                            clickable: false
                        }
                    }
                });
                
            });
        </script>
    </body>
</html>